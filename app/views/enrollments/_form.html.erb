
<% if not @enrollment.nil? %>
<%= form_for(@enrollment) do |f| %>
    <% if @enrollment.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@enrollment.errors.count, "error") %> prohibited this enrollment from being saved:</h2>

          <ul>
            <% @enrollment.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <%= f.label :firstname %><br />
    <%= f.text_field :firstname %><br />

    <%= f.label :lastname %><br />
    <%= f.text_field :lastname %><br />

    <%= f.label :studentnumber %><br />
    <%= f.text_field :studentnumber %><br />

    <%= f.label :email %><br />
    <%= f.text_field :email %><br />

        <%= f.fields_for :signups, @enrollment.signups.to_a  do |sf| %>
            Prioriteetti <%= sf.object.priority %>: <br />
            <%= sf.select :project_id, options_from_collection_for_select(@projects, :id, :name, sf.object.project_id) %>
            <br />
            <%= sf.hidden_field :id, value:sf.object.id %>
            <%= sf.hidden_field :priority, value:"#{sf.object.priority}" %>

        <% end %>

    <div class="actions">
      <%= f.submit %>
    </div>
<% end %>

<% end %>
